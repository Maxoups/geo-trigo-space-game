[gd_scene load_steps=35 format=3 uid="uid://bt4cdoblfhlft"]

[ext_resource type="Shader" uid="uid://bdw0786jigflv" path="res://resources/shaders/grid_background.gdshader" id="1_nnsk1"]
[ext_resource type="Script" uid="uid://biqixxvye3fr2" path="res://scripts/world.gd" id="1_xgqkh"]
[ext_resource type="PackedScene" uid="uid://dr3q0tn2htik5" path="res://scenes/geometry/point.tscn" id="2_71j4m"]
[ext_resource type="PackedScene" uid="uid://swoiph7kegbh" path="res://scenes/player_camera.tscn" id="2_oo54l"]
[ext_resource type="Texture2D" uid="uid://crm4hvl7kfeba" path="res://resources/SpaceShooterSprites/Meteors/spaceMeteors_001.png" id="3_k0juu"]
[ext_resource type="Texture2D" uid="uid://k5fyi4spnvfb" path="res://resources/SpaceShooterSprites/Meteors/spaceMeteors_002.png" id="5_i7141"]
[ext_resource type="Texture2D" uid="uid://gcu47ams1syf" path="res://resources/SpaceShooterSprites/Meteors/spaceMeteors_003.png" id="6_4mrxx"]
[ext_resource type="Texture2D" uid="uid://c80fq8cdd4mk7" path="res://resources/SpaceShooterSprites/Meteors/spaceMeteors_004.png" id="7_7r4gi"]
[ext_resource type="Texture2D" uid="uid://cah3k41u01bfv" path="res://resources/SpaceShooterSprites/Station/spaceStation_018.png" id="10_ctatt"]
[ext_resource type="Texture2D" uid="uid://5sbo5wnny7lb" path="res://resources/SpaceShooterSprites/Station/spaceStation_019.png" id="11_xgqkh"]
[ext_resource type="Texture2D" uid="uid://dtgfmqet515as" path="res://resources/SpaceShooterSprites/Station/spaceStation_017.png" id="12_munwf"]
[ext_resource type="Script" uid="uid://basqjwhkm26mf" path="res://scripts/toggleable_object.gd" id="26_munwf"]
[ext_resource type="Texture2D" uid="uid://c1gkupdtxvd5n" path="res://resources/SpaceShooterSprites/Building/spaceBuilding_014.png" id="32_x28ej"]
[ext_resource type="Texture2D" uid="uid://dft52r8fw4t1a" path="res://resources/SpaceShooterSprites/Building/spaceBuilding_015.png" id="33_1jxku"]
[ext_resource type="PackedScene" uid="uid://b0ltusdhqx678" path="res://scenes/space_objects/explorer_ship.tscn" id="41_rga7q"]
[ext_resource type="PackedScene" uid="uid://bg4jokdf0h7pw" path="res://scenes/space_objects/mother_ship.tscn" id="42_6oujy"]
[ext_resource type="Texture2D" uid="uid://bws73nhbyjla0" path="res://resources/SpaceShooterSprites/Missiles/spaceMissiles_013.png" id="45_5hglh"]
[ext_resource type="Texture2D" uid="uid://ckedr58151cpb" path="res://resources/SpaceShooterSprites/Effects/spaceEffects_001.png" id="46_qg546"]
[ext_resource type="Texture2D" uid="uid://doycsgegdnn0c" path="res://resources/SpaceShooterSprites/Effects/spaceEffects_002.png" id="47_pf35h"]
[ext_resource type="Texture2D" uid="uid://bfvqgi8v4veju" path="res://resources/SpaceShooterSprites/Effects/spaceEffects_003.png" id="48_iexy4"]
[ext_resource type="Texture2D" uid="uid://d2guevsvld0m4" path="res://resources/SpaceShooterSprites/Effects/spaceEffects_004.png" id="49_npbic"]
[ext_resource type="Texture2D" uid="uid://dg07ulc7hyuqr" path="res://resources/SpaceShooterSprites/Effects/spaceEffects_005.png" id="50_e6ckp"]
[ext_resource type="Texture2D" uid="uid://c8764kb8vlmwm" path="res://resources/SpaceShooterSprites/Effects/spaceEffects_007.png" id="51_mvg0v"]
[ext_resource type="Texture2D" uid="uid://egcfmd31gfq6" path="res://resources/SpaceShooterSprites/Effects/spaceEffects_008.png" id="52_h3odw"]
[ext_resource type="Texture2D" uid="uid://ba3kui53dmume" path="res://resources/SpaceShooterSprites/Effects/spaceEffects_010.png" id="53_5hl1e"]
[ext_resource type="Texture2D" uid="uid://c3clt2b01bqdf" path="res://resources/SpaceShooterSprites/Effects/spaceEffects_018.png" id="54_66tox"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_rwgxs"]
shader = ExtResource("1_nnsk1")
shader_parameter/scale = Vector2(0.01, 0.01)
shader_parameter/offset = Vector2(0, 0)
shader_parameter/background_color = Color(0.2, 0.2, 0.2, 0.2)
shader_parameter/checkered_color = Color(0, 0, 0, 0.243137)
shader_parameter/coarse_grid_color = Color(1, 1, 1, 0.690196)
shader_parameter/coarse_grid_line_width = Vector2(0.05, 0.05)
shader_parameter/fine_grid_color = Color(0.8, 0.8, 0.8, 0.839216)
shader_parameter/fine_grid_subdivisions = 5.0
shader_parameter/fine_grid_line_width = Vector2(0.03, 0.03)

[sub_resource type="Animation" id="Animation_xgqkh"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:modulate")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Color(1, 1, 1, 1)]
}

[sub_resource type="Animation" id="Animation_ctatt"]
resource_name = "grid_idle"
length = 4.0
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:modulate")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 2),
"transitions": PackedFloat32Array(1.93187, 0.353553),
"update": 0,
"values": [Color(1, 1, 1, 0.811765), Color(1, 1, 1, 0.415686)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_munwf"]
_data = {
&"RESET": SubResource("Animation_xgqkh"),
&"grid_idle": SubResource("Animation_ctatt")
}

[sub_resource type="Shader" id="Shader_munwf"]
resource_local_to_scene = true
code = "shader_type canvas_item;


uniform vec4 original: source_color;
uniform vec4 replace: source_color;

const float precision = 0.2;


vec4 swap_color(vec4 color){
	if (distance(color, original) <= precision){
		return replace;
	}
	return color;
}


void fragment() {
	COLOR = swap_color(texture(TEXTURE, UV));
}"

[sub_resource type="ShaderMaterial" id="ShaderMaterial_qfnet"]
resource_local_to_scene = true
shader = SubResource("Shader_munwf")
shader_parameter/original = Color(0.988235, 0.360784, 0.396078, 1)
shader_parameter/replace = Color(0, 0, 0.956863, 1)

[sub_resource type="Shader" id="Shader_ts3gi"]
resource_local_to_scene = true
code = "shader_type canvas_item;


uniform vec4 original: source_color;
uniform vec4 replace: source_color;

const float precision = 0.2;


vec4 swap_color(vec4 color){
	if (distance(color, original) <= precision){
		return replace;
	}
	return color;
}


void fragment() {
	COLOR = swap_color(texture(TEXTURE, UV));
}"

[sub_resource type="ShaderMaterial" id="ShaderMaterial_k0juu"]
resource_local_to_scene = true
shader = SubResource("Shader_ts3gi")
shader_parameter/original = Color(0.988235, 0.360784, 0.396078, 1)
shader_parameter/replace = Color(1, 0, 0, 1)

[node name="World" type="Node2D"]
script = ExtResource("1_xgqkh")

[node name="CanvasLayer" type="CanvasLayer" parent="."]
layer = -1

[node name="Grid" type="ColorRect" parent="."]
z_index = -5
material = SubResource("ShaderMaterial_rwgxs")
anchors_preset = 9
anchor_bottom = 1.0
offset_left = -5000.0
offset_top = -5000.0
offset_right = 5000.0
offset_bottom = 5000.0
grow_vertical = 2

[node name="AnimationPlayer" type="AnimationPlayer" parent="Grid"]
libraries = {
&"": SubResource("AnimationLibrary_munwf")
}

[node name="ToggleableObject" type="Node" parent="Grid"]
script = ExtResource("26_munwf")
metadata/_custom_type_script = "uid://basqjwhkm26mf"

[node name="Xaxis" type="Line2D" parent="."]
modulate = Color(1, 1, 1, 0.619608)
z_index = -5
points = PackedVector2Array(-5000, 0, 5000, 0)
width = 5.0

[node name="Yaxis" type="Line2D" parent="."]
modulate = Color(1, 1, 1, 0.619608)
z_index = -5
points = PackedVector2Array(0, -5000, 0, 5000)
width = 5.0

[node name="PlayerCamera" parent="." instance=ExtResource("2_oo54l")]

[node name="PointA" parent="." instance=ExtResource("2_71j4m")]
material = SubResource("ShaderMaterial_qfnet")
position = Vector2(91, 83)
point_color = Color(0, 0, 0.956863, 1)

[node name="PointB" parent="." instance=ExtResource("2_71j4m")]
material = SubResource("ShaderMaterial_k0juu")
position = Vector2(-511, -207)
point_name = "B"
point_color = Color(1, 0, 0, 1)

[node name="SpaceMeteors001" type="Sprite2D" parent="."]
position = Vector2(530, -341)
texture = ExtResource("3_k0juu")

[node name="SpaceMeteors002" type="Sprite2D" parent="."]
position = Vector2(-720, -274)
scale = Vector2(0.241706, 0.241706)
texture = ExtResource("5_i7141")

[node name="SpaceMeteors005" type="Sprite2D" parent="."]
position = Vector2(-1700, -984)
scale = Vector2(0.763033, 0.763033)
texture = ExtResource("5_i7141")

[node name="SpaceMeteors003" type="Sprite2D" parent="."]
position = Vector2(-234, -431)
scale = Vector2(0.565909, 0.565909)
texture = ExtResource("6_4mrxx")

[node name="SpaceMeteors004" type="Sprite2D" parent="."]
position = Vector2(-197, 297)
scale = Vector2(0.606383, 0.606383)
texture = ExtResource("7_7r4gi")

[node name="SpaceStation018" type="Sprite2D" parent="."]
position = Vector2(-1753, 475)
rotation = 0.361875
scale = Vector2(0.692307, 0.692307)
texture = ExtResource("10_ctatt")

[node name="SpaceStation019" type="Sprite2D" parent="."]
position = Vector2(-2384, 827)
texture = ExtResource("11_xgqkh")

[node name="SpaceStation017" type="Sprite2D" parent="."]
position = Vector2(-1420, 1054)
scale = Vector2(0.659884, 0.659884)
texture = ExtResource("12_munwf")

[node name="SpaceBuilding014" type="Sprite2D" parent="."]
position = Vector2(-1210, 760)
texture = ExtResource("32_x28ej")

[node name="SpaceBuilding015" type="Sprite2D" parent="."]
position = Vector2(-807, 779)
texture = ExtResource("33_1jxku")

[node name="SpaceMissiles013" type="Sprite2D" parent="."]
position = Vector2(-1227, -288)
texture = ExtResource("45_5hglh")

[node name="SpaceEffects002" type="Sprite2D" parent="."]
position = Vector2(-1580, -280)
texture = ExtResource("46_qg546")

[node name="SpaceEffects004" type="Sprite2D" parent="."]
position = Vector2(-1507, -293)
texture = ExtResource("47_pf35h")

[node name="SpaceEffects005" type="Sprite2D" parent="."]
position = Vector2(-1725, -216)
texture = ExtResource("48_iexy4")

[node name="SpaceEffects006" type="Sprite2D" parent="."]
position = Vector2(-1667, -177)
texture = ExtResource("49_npbic")

[node name="SpaceEffects007" type="Sprite2D" parent="."]
position = Vector2(-1591, -199)
texture = ExtResource("50_e6ckp")

[node name="SpaceEffects008" type="Sprite2D" parent="."]
position = Vector2(-1720, 30)
texture = ExtResource("51_mvg0v")

[node name="SpaceEffects009" type="Sprite2D" parent="."]
position = Vector2(-1655, 46)
texture = ExtResource("52_h3odw")

[node name="SpaceEffects011" type="Sprite2D" parent="."]
position = Vector2(-1771, 43)
texture = ExtResource("53_5hl1e")

[node name="SpaceEffects018" type="Sprite2D" parent="."]
position = Vector2(-1464, -98)
texture = ExtResource("54_66tox")

[node name="ExplorerShip" parent="." instance=ExtResource("41_rga7q")]
position = Vector2(-858, 72)

[node name="Label" parent="ExplorerShip" index="0"]
text = "Ship
    position = (x=-858.00, y=72.00)
    rotation = -121.25
    scale = (x=0.75, y=0.75)"

[node name="Sprite" parent="ExplorerShip" index="1"]
rotation = -2.11621

[node name="MotherShip" parent="." instance=ExtResource("42_6oujy")]
position = Vector2(885, 372)

[node name="Label" parent="MotherShip" index="0"]
text = "Station
    position = (x=885.00, y=372.00)
    rotation = 128.18
    scale = (x=0.75, y=0.75)"

[node name="ShipSprites" parent="MotherShip" index="1"]
rotation = 2.23711

[editable path="ExplorerShip"]
[editable path="MotherShip"]
