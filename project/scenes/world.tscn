[gd_scene load_steps=30 format=3 uid="uid://bt4cdoblfhlft"]

[ext_resource type="Shader" uid="uid://bdw0786jigflv" path="res://resources/shaders/grid_background.gdshader" id="1_nnsk1"]
[ext_resource type="Script" uid="uid://biqixxvye3fr2" path="res://scripts/world.gd" id="1_xgqkh"]
[ext_resource type="PackedScene" uid="uid://dr3q0tn2htik5" path="res://scenes/geometry/point.tscn" id="2_71j4m"]
[ext_resource type="PackedScene" uid="uid://swoiph7kegbh" path="res://scenes/player_camera.tscn" id="2_oo54l"]
[ext_resource type="Texture2D" uid="uid://crm4hvl7kfeba" path="res://resources/SpaceShooterSprites/Meteors/spaceMeteors_001.png" id="3_k0juu"]
[ext_resource type="Texture2D" uid="uid://k5fyi4spnvfb" path="res://resources/SpaceShooterSprites/Meteors/spaceMeteors_002.png" id="5_i7141"]
[ext_resource type="Texture2D" uid="uid://gcu47ams1syf" path="res://resources/SpaceShooterSprites/Meteors/spaceMeteors_003.png" id="6_4mrxx"]
[ext_resource type="Texture2D" uid="uid://c80fq8cdd4mk7" path="res://resources/SpaceShooterSprites/Meteors/spaceMeteors_004.png" id="7_7r4gi"]
[ext_resource type="PackedScene" uid="uid://cy7d5b1ckl2cj" path="res://scenes/space_objects/satellite.tscn" id="9_pm21f"]
[ext_resource type="Texture2D" uid="uid://5sbo5wnny7lb" path="res://resources/SpaceShooterSprites/Station/spaceStation_019.png" id="11_xgqkh"]
[ext_resource type="PackedScene" uid="uid://csk63qbcllicv" path="res://scenes/space_objects/missile.tscn" id="13_7t5mc"]
[ext_resource type="Script" uid="uid://basqjwhkm26mf" path="res://scripts/toggleable_object.gd" id="26_munwf"]
[ext_resource type="Shader" uid="uid://dqf5bx8aala3w" path="res://resources/shaders/color_swap.gdshader" id="27_ts3gi"]
[ext_resource type="Texture2D" uid="uid://c1gkupdtxvd5n" path="res://resources/SpaceShooterSprites/Building/spaceBuilding_014.png" id="32_x28ej"]
[ext_resource type="Texture2D" uid="uid://dft52r8fw4t1a" path="res://resources/SpaceShooterSprites/Building/spaceBuilding_015.png" id="33_1jxku"]
[ext_resource type="PackedScene" uid="uid://b0ltusdhqx678" path="res://scenes/space_objects/explorer_ship.tscn" id="41_rga7q"]
[ext_resource type="PackedScene" uid="uid://bg4jokdf0h7pw" path="res://scenes/space_objects/mother_ship.tscn" id="42_6oujy"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_rwgxs"]
shader = ExtResource("1_nnsk1")
shader_parameter/scale = Vector2(0.01, 0.01)
shader_parameter/offset = Vector2(0, 0)
shader_parameter/background_color = Color(0.2, 0.2, 0.2, 0.2)
shader_parameter/checkered_color = Color(0, 0, 0, 0.243137)
shader_parameter/coarse_grid_color = Color(1, 1, 1, 0.690196)
shader_parameter/coarse_grid_line_width = Vector2(0.05, 0.05)
shader_parameter/fine_grid_color = Color(0.8, 0.8, 0.8, 0.839216)
shader_parameter/fine_grid_subdivisions = 5.0
shader_parameter/fine_grid_line_width = Vector2(0.03, 0.03)

[sub_resource type="Animation" id="Animation_xgqkh"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:modulate")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Color(1, 1, 1, 1)]
}

[sub_resource type="Animation" id="Animation_ctatt"]
resource_name = "grid_idle"
length = 4.0
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:modulate")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 2),
"transitions": PackedFloat32Array(1.93187, 0.353553),
"update": 0,
"values": [Color(1, 1, 1, 0.811765), Color(1, 1, 1, 0.415686)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_munwf"]
_data = {
&"RESET": SubResource("Animation_xgqkh"),
&"grid_idle": SubResource("Animation_ctatt")
}

[sub_resource type="Shader" id="Shader_7t5mc"]
resource_local_to_scene = true
code = "shader_type canvas_item;


uniform vec4 original: source_color;
uniform vec4 replace: source_color;

const float precision = 0.2;


vec4 swap_color(vec4 color){
	if (distance(color, original) <= precision){
		return replace;
	}
	return color;
}


void fragment() {
	COLOR = swap_color(texture(TEXTURE, UV));
}"

[sub_resource type="ShaderMaterial" id="ShaderMaterial_qfnet"]
resource_local_to_scene = true
shader = SubResource("Shader_7t5mc")
shader_parameter/original = Color(0.988235, 0.360784, 0.396078, 1)
shader_parameter/replace = Color(0, 0, 0.956863, 1)

[sub_resource type="Shader" id="Shader_lakw3"]
resource_local_to_scene = true
code = "shader_type canvas_item;


uniform vec4 original: source_color;
uniform vec4 replace: source_color;

const float precision = 0.2;


vec4 swap_color(vec4 color){
	if (distance(color, original) <= precision){
		return replace;
	}
	return color;
}


void fragment() {
	COLOR = swap_color(texture(TEXTURE, UV));
}"

[sub_resource type="ShaderMaterial" id="ShaderMaterial_k0juu"]
resource_local_to_scene = true
shader = SubResource("Shader_lakw3")
shader_parameter/original = Color(0.988235, 0.360784, 0.396078, 1)
shader_parameter/replace = Color(1, 0, 0, 1)

[sub_resource type="ShaderMaterial" id="ShaderMaterial_0nbtd"]
resource_local_to_scene = true
shader = ExtResource("27_ts3gi")
shader_parameter/original = Color(0.988235, 0.360784, 0.396078, 1)
shader_parameter/replace = Color(0, 1, 0, 1)

[sub_resource type="ShaderMaterial" id="ShaderMaterial_37qwj"]
resource_local_to_scene = true
shader = ExtResource("27_ts3gi")
shader_parameter/original = Color(0.988235, 0.360784, 0.396078, 1)
shader_parameter/replace = Color(1, 0, 1, 1)

[sub_resource type="ShaderMaterial" id="ShaderMaterial_navra"]
resource_local_to_scene = true
shader = ExtResource("27_ts3gi")
shader_parameter/original = Color(0.988235, 0.360784, 0.396078, 1)
shader_parameter/replace = Color(5.77569e-07, 0.389318, 0.37634, 1)

[sub_resource type="ShaderMaterial" id="ShaderMaterial_luhhm"]
resource_local_to_scene = true
shader = ExtResource("27_ts3gi")
shader_parameter/original = Color(0.988235, 0.360784, 0.396078, 1)
shader_parameter/replace = Color(0, 0, 0, 1)

[node name="World" type="Node2D"]
script = ExtResource("1_xgqkh")

[node name="CanvasLayer" type="CanvasLayer" parent="."]
layer = -1

[node name="Grid" type="ColorRect" parent="."]
z_index = -5
material = SubResource("ShaderMaterial_rwgxs")
anchors_preset = 9
anchor_bottom = 1.0
offset_left = -5000.0
offset_top = -5000.0
offset_right = 5000.0
offset_bottom = 5000.0
grow_vertical = 2

[node name="AnimationPlayer" type="AnimationPlayer" parent="Grid"]
libraries = {
&"": SubResource("AnimationLibrary_munwf")
}

[node name="ToggleableObject" type="Node" parent="Grid"]
script = ExtResource("26_munwf")
metadata/_custom_type_script = "uid://basqjwhkm26mf"

[node name="Xaxis" type="Line2D" parent="."]
modulate = Color(1, 1, 1, 0.619608)
z_index = -5
points = PackedVector2Array(-5000, 0, 5000, 0)
width = 5.0

[node name="Yaxis" type="Line2D" parent="."]
modulate = Color(1, 1, 1, 0.619608)
z_index = -5
points = PackedVector2Array(0, -5000, 0, 5000)
width = 5.0

[node name="PlayerCamera" parent="." instance=ExtResource("2_oo54l")]

[node name="SpaceMeteors001" type="Sprite2D" parent="."]
position = Vector2(-352, 218)
texture = ExtResource("3_k0juu")

[node name="SpaceMeteors002" type="Sprite2D" parent="."]
position = Vector2(-720, -274)
scale = Vector2(0.241706, 0.241706)
texture = ExtResource("5_i7141")

[node name="SpaceMeteors005" type="Sprite2D" parent="."]
position = Vector2(-901, -959)
scale = Vector2(0.763033, 0.763033)
texture = ExtResource("5_i7141")

[node name="SpaceMeteors003" type="Sprite2D" parent="."]
position = Vector2(476, 68.0001)
scale = Vector2(0.565909, 0.565909)
texture = ExtResource("6_4mrxx")

[node name="SpaceMeteors004" type="Sprite2D" parent="."]
position = Vector2(91, -459)
scale = Vector2(0.606383, 0.606383)
texture = ExtResource("7_7r4gi")

[node name="Satellite" parent="." instance=ExtResource("9_pm21f")]
position = Vector2(138, -226)

[node name="Satellite2" parent="." instance=ExtResource("9_pm21f")]
position = Vector2(-168.569, -408.625)
scale = Vector2(0.426282, 0.426282)
texture = ExtResource("33_1jxku")

[node name="Satellite3" parent="." instance=ExtResource("9_pm21f")]
position = Vector2(-7.99994, 432)
rotation = 0.756364
texture = ExtResource("11_xgqkh")

[node name="Satellite4" parent="." instance=ExtResource("9_pm21f")]
position = Vector2(-145, -578)
rotation = -0.559566
texture = ExtResource("32_x28ej")

[node name="Missile" parent="." instance=ExtResource("13_7t5mc")]
position = Vector2(-586, -428)
rotation = -2.58949

[node name="ExplorerShip" parent="." instance=ExtResource("41_rga7q")]
position = Vector2(-1036, -62)
ship_name = "ExplorerShip"

[node name="MotherShip" parent="." instance=ExtResource("42_6oujy")]
position = Vector2(819, 146)

[node name="Label" parent="MotherShip" index="0"]
text = "MotherShip:
    position = (x=819.00, y=146.00)
    rotation = 123.72
    scale = (x=0.75, y=0.75)"

[node name="SpriteRoot" parent="MotherShip" index="1"]
position = Vector2(90.6667, -18.6667)
rotation = 2.1593

[node name="PointA" parent="." instance=ExtResource("2_71j4m")]
material = SubResource("ShaderMaterial_qfnet")
position = Vector2(-720, 98)
point_color = Color(0, 0, 0.956863, 1)

[node name="PointB" parent="." instance=ExtResource("2_71j4m")]
material = SubResource("ShaderMaterial_k0juu")
position = Vector2(-298, -140)
point_name = "B"
point_color = Color(1, 0, 0, 1)

[node name="PointC" parent="." instance=ExtResource("2_71j4m")]
material = SubResource("ShaderMaterial_0nbtd")
position = Vector2(175, -89)
point_name = "C"
point_color = Color(0, 1, 0, 1)

[node name="PointD" parent="." instance=ExtResource("2_71j4m")]
material = SubResource("ShaderMaterial_37qwj")
position = Vector2(471, -421)
point_name = "D"
point_color = Color(1, 0, 1, 1)

[node name="PointE" parent="." instance=ExtResource("2_71j4m")]
material = SubResource("ShaderMaterial_navra")
position = Vector2(914, -338)
point_name = "E"
point_color = Color(5.77569e-07, 0.389318, 0.37634, 1)

[node name="Point" parent="." instance=ExtResource("2_71j4m")]
material = SubResource("ShaderMaterial_luhhm")
position = Vector2(983, -8)
point_name = "F"
point_color = Color(0, 0, 0, 1)

[editable path="MotherShip"]
